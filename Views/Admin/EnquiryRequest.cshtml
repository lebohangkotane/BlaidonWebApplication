
@{
    ViewBag.Title = "EnquiryRequest";
    Layout = "~/Views/Admin/_AdminLayout.cshtml";
}

<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">

            <p style="margin-left: 2.5em;padding: 0 7em 2em 0;border-width: 0px; border-color: black; border-style:solid;"></p>
            <h1 class="mt-4">Enquiries</h1>
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-table me-1"></i>
                    A History of All Equiries made by Clients.
                </div>
                <div class="card-body">
                    <table id="datatablesSimple">

                        <thead>
                            <tr>
                                <th>Enquiry_ID</th>
                                <th>Date_Made</th>
                                <th>Email</th>
                                <th>Category</th>
                                <th>Type</th>
                                <th>Message_Enquiry</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>Enquiry_ID</th>
                                <th>Date_Made</th>
                                <th>Email</th>
                                <th>Category</th>
                                <th>Type</th>
                                <th>Message_Enquiry</th>
                            </tr>
                        </tfoot>
                        <tbody>
                            @{
                                if (Model != null)
                                {
                                    foreach (var Data in Model)
                                    {
                                        <tr>
                                            <td>@Data.Enquiry_ID</td>
                                            <td>@Data.Date_Made</td>
                                            <td>@Data.Email</td>
                                            <td>@Data.category</td>
                                            <td>@Data.type</td>
                                            <td>@Data.Message_Enquiry</td>
                                        </tr>
                                    }
                                }
                            }
                        </tbody>
                    </table>
                    <hr style="height: 4px; background-color: #0d6efd ">
                    <div style="float:left;">
                        <form action="DlteEqrs" method="post">
                            <h3 class="text-center">Remove an Enquiry Record</h3>
                            <br>
                            <div class="form-group">
                                <label for="Enquiry_ID">Enquiry ID</label><br>
                                <input type="tel" name="Enquiry_ID" id="Enquiry_ID" placeholder="Enter Enquiry_ID" class="form-control" required>
                            </div>
                            <br>
                            <style>
                                .Delbutton {
                                    background-color: #f44336;
                                    border-radius: 4px;
                                    padding: 5px 20px;
                                }
                            </style>
                            <div class="form-group">
                                <button class="Delbutton" id="Delete" type="submit">Delete</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <script>
                // Restricts input for the given textbox to the given inputFilter.
                function setInputFilter(textbox, inputFilter) {
                    ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function (event) {
                        textbox.addEventListener(event, function () {
                            if (inputFilter(this.value)) {
                                this.oldValue = this.value;
                                this.oldSelectionStart = this.selectionStart;
                                this.oldSelectionEnd = this.selectionEnd;
                            } else if (this.hasOwnProperty("oldValue")) {
                                this.value = this.oldValue;
                                this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
                            } else {
                                this.value = "";
                            }
                        });
                    });
                }
                // Install input filters.
                setInputFilter(document.getElementById("Enquiry_ID"), function (value) {
                    return /^\d*$/.test(value);
                });
            </script>
        </div>
    </main>
</div>

